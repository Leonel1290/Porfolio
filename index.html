<!doctype html>
<html lang="es">
<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>Portafolio ASG - Seguridad en tu Hogar</title>

    <link rel="shortcut icon" href="https://cdn3d.iconscout.com/3d/premium/thumb/fuga-de-gas-8440307-6706766.png?f=webp">
    <link rel="shortcut icon" href="<?= base_url('/imagenes/Logo.png'); ?>">
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/all.min.css">
    <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@400;600;700&display=swap" rel="stylesheet">
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>

    <style>
        body {
            background: linear-gradient(135deg, #0D1F23, #132E35);
            font-family: 'Poppins', sans-serif;
            color: #AFB3B7;
            margin: 0;
            display: flex;
            flex-direction: column;
            min-height: 100vh;
            overflow-x: hidden; /* Evita scroll horizontal si el modelo es muy grande */
        }

        .navbar {
            backdrop-filter: blur(10px);
            background-color: rgba(13, 31, 35, 0.8);
            position: fixed;
            top: 0;
            width: 100%;
            z-index: 1000;
        }

        .navbar-brand, .nav-link {
            color: #AFB3B7;
        }

        .navbar-brand:hover, .nav-link:hover {
            color: #698180;
        }

        .btn-custom {
            background-color: #698180;
            border: none;
            color: #fff;
            font-weight: 600;
            border-radius: 30px;
            padding: 0.6rem 1.6rem;
        }

        .btn-custom:hover {
            background-color: #2D4A53;
        }

        .hero {
            padding: 6rem 0;
            position: relative;
            padding-top: 80px;
        }

        .hero h1 {
            font-size: 3rem;
            color: #fff;
            font-weight: 700;
        }

        .hero-line {
            width: 80px;
            height: 4px;
            background-color: #698180;
            margin: 1rem 0 1.5rem;
        }

        /* Estilos para el contenedor del modelo 3D */
        #model-container {
            width: 100%;
            height: 400px; /* Ajusta la altura según necesites */
            background-color: transparent; /* Fondo transparente para el canvas */
            display: flex;
            justify-content: center;
            align-items: center;
            overflow: hidden; /* Asegura que el modelo no se salga del contenedor */
        }
        #model-container canvas {
            width: 100% !important;
            height: 100% !important;
            display: block; /* Elimina espacio extra debajo del canvas */
        }
        #model-container img.fallback-image {
            max-width: 100%;
            max-height: 100%;
            object-fit: contain;
        }

        @keyframes float {
            0%, 100% { transform: translateY(0); }
            50% { transform: translateY(-15px); }
        }

        .features {
            padding-top: 3rem;
            padding-bottom: 3rem;
        }

        .features i {
            font-size: 3rem;
            color: #698180;
        }

        .features h3 {
            color: #fff;
        }

        .company-info {
            background-color: #2D4A53;
            border-radius: 10px;
            padding: 2rem;
            color: #fff;
        }

        .section-title {
            color: #fff;
            font-size: 2.5rem;
            font-weight: 700;
            margin-bottom: 2rem;
            text-align: center;
        }

        footer {
            background-color: #0D1F23;
            text-align: center;
            padding: 1rem;
            font-size: 0.9rem;
            margin-top: auto;
        }

        a {
            text-decoration: none;
        }

        .explosion-animation-overlay {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background-color: #0D1F23;
            z-index: 1001;
            display: flex;
            justify-content: center;
            align-items: center;
            opacity: 1;
            transition: opacity 1s ease-out 1.5s;
        }

        .explosion-animation-overlay.fade-out {
            opacity: 0;
            pointer-events: none;
        }

        main {
            flex-grow: 1;
        }

        /* Estilos específicos para la sección de gráficos */
        .graphs-section .card {
            background-color: #132E35;
            border: 1px solid #2D4A53;
            color: #AFB3B7;
            text-align: center;
        }
        .graphs-section .card-title {
            color: #fff;
        }
        .graphs-section .card-body i {
            font-size: 4rem;
            color: #698180;
            margin-bottom: 1rem;
        }
        /* Estilos para los contenedores de gráficos */
        .chart-container {
            width: 80%;
            margin: 40px auto;
            background-color: #213B42; /* Darker background for depth */
            padding: 20px;
            border-radius: 8px;
            box-shadow: 0 5px 15px rgba(0,0,0,0.5); /* Stronger shadow for 3D effect */
            color: #AFB3B7;
        }
        .chart-container h2 {
            text-align: center;
            color: #fff; /* White title for better contrast */
            margin-bottom: 20px;
        }
        .chart-note {
            font-size: 0.9em;
            color: #AFB3B7;
            text-align: center;
            margin-top: 10px;
        }

        /* Estilos para la sección de opiniones (imágenes) */
        #opiniones-usuarios-imagenes {
            display: none; /* Inicialmente oculto */
            background-color: #132E35;
            padding: 20px;
            margin: 20px auto;
            border-radius: 8px;
            text-align: center;
        }

        #opiniones-usuarios-imagenes .row {
            justify-content: center; /* Centra las imágenes si no llenan la fila */
        }

        #opiniones-usuarios-imagenes img {
            width: 100%; /* Las imágenes ocuparán el 100% de su columna */
            height: auto;
            margin-bottom: 15px; /* Espacio entre imágenes */
            border-radius: 4px;
            box-shadow: 0 2px 5px rgba(0,0,0,0.2);
            object-fit: contain;
        }

        /* Ajustes para pantallas pequeñas si es necesario */
        @media (max-width: 767.98px) {
            #opiniones-usuarios-imagenes img {
                max-width: 80%; /* Para que en móviles las imágenes no se vean tan grandes */
                margin-left: auto;
                margin-right: auto;
                display: block; /* Para centrar imágenes con max-width */
            }
        }


        #opiniones-usuarios-imagenes button {
            background-color: #698180;
            border: none;
            color: #fff;
            padding: 10px 20px;
            border-radius: 5px;
            cursor: pointer;
            margin-top: 10px;
        }

        #opiniones-usuarios-imagenes button:hover {
            background-color: #2D4A53;
        }
    </style>
</head>
<body>

<div id="explosionOverlay" class="explosion-animation-overlay">
    <div class="explosion-image-container">
        <p class="text-white">Cargando Portafolio ASG...</p>
    </div>
</div>

<header>
    <nav class="navbar navbar-expand-lg fixed-top shadow-sm">
        <div class="container">
            <a class="navbar-brand fw-bold" href="#">ASG</a>
            <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarNav">
                <span class="navbar-toggler-icon"></span>
            </button>
            <div class="collapse navbar-collapse" id="navbarNav">
                <ul class="navbar-nav ms-auto align-items-center">
                    <li class="nav-item">
                        <a class="nav-link" href="#caracteristicas">Características</a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link" href="#aspectos-tecnicos">Tecnología</a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link" href="#datos-y-encuestas">Datos y Encuestas</a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link" href="#contacto">Contacto</a>
                    </li>
                </ul>
            </div>
        </div>
    </nav>
</header>

<main>
    <section class="hero" id="inicio">
        <div class="container">
            <div class="row align-items-center">
                <div class="col-md-6 text-start">
                    <h1>Tu Hogar, Siempre Seguro</h1>
                    <div class="hero-line"></div>
                    <p class="lead">ASG: Detección precisa de fugas de gas y protección activa para tu tranquilidad.</p>
                </div>
                <div class="col-md-6 text-center mt-4 mt-md-0">
                    <div id="model-container"></div>
                </div>
            </div>
        </div>
    </section>

    <section class="py-5" id="vision-general">
        <div class="container">
            <h2 class="section-title">Visión General</h2>
            <div class="row justify-content-center">
                <div class="col-lg-8 text-center">
                    <p class="lead">ASG nace para solucionar un problema crítico: las fugas de gas no detectadas en el hogar. Nuestro sistema ofrece una protección integral, no solo alertando, sino también actuando automáticamente para cerrar la fuente de gas y proteger a tu familia.</p>
                </div>
            </div>
        </div>
    </section>

    <section class="features py-5 text-center" id="caracteristicas">
        <div class="container">
            <h2 class="section-title">Características Clave</h2>
            <div class="row g-4">
                <div class="col-md-4">
                    <i class="fas fa-shield-alt mb-3"></i>
                    <h3>Seguridad Activa</h3>
                    <p>Cierre automático de válvulas para respuesta instantánea ante fugas.</p>
                </div>
                <div class="col-md-4">
                    <i class="fas fa-mobile-alt mb-3"></i>
                    <h3>Control Total</h3>
                    <p>Monitorea y gestiona tu sistema desde cualquier lugar con nuestra app.</p>
                </div>
                <div class="col-md-4">
                    <i class="fas fa-bell mb-3"></i>
                    <h3>Alertas Instantáneas</h3>
                    <p>Recibe notificaciones en tiempo real ante cualquier incidencia.</p>
                </div>
            </div>
        </div>
    </section>

    <section class="py-5" id="aspectos-tecnicos">
        <div class="container">
            <h2 class="section-title">Tecnología de ASG</h2>
            <div class="row justify-content-center">
                <div class="col-lg-10">
                    <div class="company-info mx-auto text-start">
                        <p>ASG integra sensores de alta precisión con un sistema de actuadores inteligentes para el cierre de válvulas. La conectividad IoT garantiza el monitoreo constante y la interacción remota a través de una aplicación móvil intuitiva. Desarrollado con robustez y escalabilidad en mente.</p>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <section class="py-5 graphs-section" id="datos-y-encuestas">
        <div class="container">
            <h2 class="section-title">Datos y Encuestas</h2>
            <div class="row justify-content-center text-center">
                <div class="col-lg-8">
                    <p class="lead mb-5">Creemos en la mejora continua y en la opinión de nuestros usuarios. Te invitamos a explorar algunos datos relevantes de nuestro proyecto y a participar en nuestras encuestas para ayudarnos a crecer.</p>
                </div>
            </div>
            <div class="row g-4 justify-content-center">
                <div class="col-md-5">
                    <div class="card h-100">
                        <div class="card-body d-flex flex-column justify-content-center align-items-center">
                            <i class="fas fa-chart-pie mb-3"></i>
                            <h4 class="card-title">Estadísticas Clave</h4>
                            <p class="card-text">Descubre la importancia de la seguridad en el hogar con datos y gráficos sobre incidentes por fugas de gas.</p>
                            <a href="#charts-section" class="btn btn-custom mt-3">Ver Gráfico de Impacto</a>
                        </div>
                    </div>
                </div>
                <div class="col-md-5">
                    <div class="card h-100">
                        <div class="card-body d-flex flex-column justify-content-center align-items-center">
                            <i class="fas fa-poll-h mb-3"></i>
                            <h4 class="card-title">Tu Opinión Importa</h4>
                            <p class="card-text">Ayúdanos a mejorar ASG participando en nuestras breves encuestas de satisfacción y sugerencias.</p>
                            <a href="https://docs.google.com/forms/d/e/1FAIpQLSc8nht_vAaWD5Uv3bZz2vhHqWbIlkj9GoHlcHy89J7Kn6EYDg/viewform?usp=header" target="_blank" class="btn btn-custom mt-3">Ir a la Encuesta (Formulario)</a>
                        </div>
                    </div>
                </div>
            </div>
            <div class="row g-4 justify-content-center mt-4">
                <div class="col-md-5">
                    <div class="card h-100">
                        <div class="card-body d-flex flex-column justify-content-center align-items-center">
                            <i class="fas fa-chart-bar mb-3"></i>
                            <h4 class="card-title">Rendimiento del Sistema</h4>
                            <p class="card-text">Explora los resultados de nuestras pruebas de detección y tiempos de respuesta.</p>
                            <a href="https://docs.google.com/forms/d/e/1FAIpQLSc8nht_vAaWD5Uv3bZz2vhHqWbIlkj9GoHlcHy89J7Kn6EYDg/viewform?usp=header" target="_blank" class="btn btn-custom mt-3">Ver Gráfico de Rendimiento</a>
                        </div>
                    </div>
                </div>
                <div class="col-md-5">
                    <div class="card h-100">
                        <div class="card-body d-flex flex-column justify-content-center align-items-center">
                            <i class="fas fa-comments mb-3"></i>
                            <h4 class="card-title">Sus Opiniones</h4>
                            <p class="card-text">Estas son las recolecciones de opiniones que hicimos a partir de sus participaciones en nuestro formulario</p>
                            <a href="#opiniones-usuarios-imagenes" onclick="mostrarOpiniones()" class="btn btn-custom mt-3">Ver Opiniones</a>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <section class="py-5" id="opiniones-usuarios-imagenes">
        <div class="container">
            <h2 class="section-title">Opiniones de Usuarios</h2>
            <div class="row">
                <div class="col-md-6 col-lg-4 d-flex align-items-center justify-content-center">
                    <img src="Captura de pantalla 2025-05-21 005305.png" alt="Captura de opinión 1" class="img-fluid">
                </div>
                <div class="col-md-6 col-lg-4 d-flex align-items-center justify-content-center">
                    <img src="Captura de pantalla 2025-05-21 005313.png" alt="Captura de opinión 2" class="img-fluid">
                </div>
                <div class="col-md-6 col-lg-4 d-flex align-items-center justify-content-center">
                    <img src="Captura de pantalla 2025-05-21 010814.png" alt="Captura de opinión 3" class="img-fluid">
                </div>
                <div class="col-md-6 col-lg-4 d-flex align-items-center justify-content-center">
                    <img src="Captura de pantalla 2025-05-21 005329.png" alt="Captura de opinión 4" class="img-fluid">
                </div>
                <div class="col-md-6 col-lg-4 d-flex align-items-center justify-content-center">
                    <img src="Captura de pantalla 2025-05-21 005337.png" alt="Captura de opinión 5" class="img-fluid">
                </div>
                <div class="col-md-6 col-lg-4 d-flex align-items-center justify-content-center">
                    <img src="Captura de pantalla 2025-05-21 005355.png" alt="Captura de opinión 6" class="img-fluid">
                </div>
            </div>
            <button onclick="ocultarOpiniones()" class="btn btn-custom">Ocultar Opiniones</button>
        </div>
    </section>

    <section class="py-5" id="charts-section">
        <div class="container">
            <h2 class="section-title">Gráficos sobre Incidentes de Gas</h2>
            <div class="chart-container">
                <h2>1. Incidentes en Propiedades Privadas en Argentina (2022-2023)</h2>
                <canvas id="chart1"></canvas>
                <div class="chart-note">Fuente: ENARGAS, Informe de Gestión de Seguridad Pública 2023</div>
            </div>
            <div class="chart-container">
                <h2>2. Conexiones Clandestinas de Gas en AMBA (2019-2023)</h2>
                <canvas id="chart2"></canvas>
                <div class="chart-note">Fuente: ENARGAS, Informe de Gestión de Seguridad Pública 2023</div>
            </div>
            <div class="chart-container">
                <h2>3. Incidentes de Intoxicación por CO por Distribuidora (2023)</h2>
                <canvas id="chart3"></canvas>
                <div class="chart-note">Fuente: ENARGAS, Informe de Gestión de Seguridad Pública 2023</div>
            </div>
            <div class="chart-container">
                <h2>4. Casos de Intoxicación por CO en Argentina (Enero-Mayo 2023 vs 2024)</h2>
                <canvas id="chart4"></canvas>
                <div class="chart-note">Fuente: ENARGAS, Informe de Gestión de Seguridad Pública 2024</div>
            </div>
            <div class="chart-container">
                <h2>5. Accidentes por Gas (2023)</h2>
                <canvas id="chart5"></canvas>
                <div class="chart-note">Fuente: ENARGAS, Informe de Gestión de Seguridad Pública 2023</div>
            </div>
        </div>
    </section>

    <section class="py-5 bg-dark text-white" id="contacto">
        <div class="container text-center">
            <h2 class="section-title text-white">Contáctanos</h2>
            <p class="lead mb-4">¿Tienes preguntas o quieres saber más sobre ASG? Ponte en contacto con nosotros.</p>
            <div class="row justify-content-center">
                <div class="col-md-6">
                    <ul class="list-unstyled">
                        <li class="mb-3"><i class="fas fa-envelope me-2"></i> info@asgseguridad.com</li>
                        <li class="mb-3"><i class="fas fa-phone me-2"></i> +54 9 11 1234 5678</li>
                        <li class="mb-3"><i class="fas fa-map-marker-alt me-2"></i> Av. Siempre Viva 742, Buenos Aires, Argentina</li>
                    </ul>
                    <div class="social-icons mt-4">
                        <a href="#" class="text-white mx-2"><i class="fab fa-facebook-f fa-2x"></i></a>
                        <a href="#" class="text-white mx-2"><i class="fab fa-twitter fa-2x"></i></a>
                        <a href="#" class="text-white mx-2"><i class="fab fa-instagram fa-2x"></i></a>
                        <a href="#" class="text-white mx-2"><i class="fab fa-linkedin-in fa-2x"></i></a>
                    </div>
                </div>
            </div>
        </div>
    </section>
</main>

<footer class="text-muted">
    <div class="container">
        <p class="mb-0">&copy; 2024 ASG. Todos los derechos reservados.</p>
    </div>
</footer>

<script>
    document.addEventListener('DOMContentLoaded', function() {
        const explosionOverlay = document.getElementById('explosionOverlay');
        setTimeout(() => {
            explosionOverlay.classList.add('fade-out');
        }, 1000); // Mantiene la pantalla de carga por 1 segundo

        // Datos de ejemplo para los gráficos
        const dataChart1 = {
            labels: ['Incendio', 'Explosión', 'Fuga', 'Intox. CO', 'Otros'],
            datasets: [{
                label: '# de Incidentes',
                data: [150, 75, 300, 200, 50],
                backgroundColor: [
                    'rgba(255, 99, 132, 0.8)', // Red
                    'rgba(54, 162, 235, 0.8)', // Blue
                    'rgba(255, 206, 86, 0.8)', // Yellow
                    'rgba(75, 192, 192, 0.8)', // Green
                    'rgba(153, 102, 255, 0.8)'  // Purple
                ],
                borderColor: [
                    'rgba(255, 99, 132, 1)',
                    'rgba(54, 162, 235, 1)',
                    'rgba(255, 206, 86, 1)',
                    'rgba(75, 192, 192, 1)',
                    'rgba(153, 102, 255, 1)'
                ],
                borderWidth: 1,
                // Agregando sombra para un efecto 3D
                shadowOffsetX: 3,
                shadowOffsetY: 3,
                shadowBlur: 10,
                shadowColor: 'rgba(0, 0, 0, 0.5)'
            }]
        };

        const dataChart2 = {
            labels: ['2019', '2020', '2021', '2022', '2023'],
            datasets: [{
                label: '# de Conexiones Clandestinas',
                data: [500, 450, 600, 750, 900],
                backgroundColor: [
                    'rgba(255, 159, 64, 0.8)', // Orange
                    'rgba(255, 99, 132, 0.8)', // Red
                    'rgba(54, 162, 235, 0.8)', // Blue
                    'rgba(75, 192, 192, 0.8)', // Green
                    'rgba(153, 102, 255, 0.8)'  // Purple
                ],
                borderColor: [
                    'rgba(255, 159, 64, 1)',
                    'rgba(255, 99, 132, 1)',
                    'rgba(54, 162, 235, 1)',
                    'rgba(75, 192, 192, 1)',
                    'rgba(153, 102, 255, 1)'
                ],
                borderWidth: 1,
                // Agregando sombra para un efecto 3D
                shadowOffsetX: 3,
                shadowOffsetY: 3,
                shadowBlur: 10,
                shadowColor: 'rgba(0, 0, 0, 0.5)'
            }]
        };

        const dataChart3 = {
            labels: ['Metrogas', 'Naturgy', 'Litoral Gas', 'Camuzzi Gas Pampeana', 'Otros'],
            datasets: [{
                label: 'Casos de Intoxicación',
                data: [120, 90, 60, 40, 30],
                backgroundColor: [
                    'rgba(255, 99, 132, 0.6)',
                    'rgba(54, 162, 235, 0.6)',
                    'rgba(255, 206, 86, 0.6)',
                    'rgba(75, 192, 192, 0.6)',
                    'rgba(153, 102, 255, 0.6)'
                ],
                borderColor: [
                    'rgba(255, 99, 132, 1)',
                    'rgba(54, 162, 235, 1)',
                    'rgba(255, 206, 86, 1)',
                    'rgba(75, 192, 192, 1)',
                    'rgba(153, 102, 255, 1)'
                ],
                borderWidth: 1
            }]
        };

        const dataChart4 = {
            labels: ['Enero', 'Febrero', 'Marzo', 'Abril', 'Mayo'],
            datasets: [
                {
                    label: '2023',
                    data: [25, 30, 45, 38, 55],
                    backgroundColor: 'rgba(75, 192, 192, 0.6)',
                    borderColor: 'rgba(75, 192, 192, 1)',
                    borderWidth: 1,
                    fill: false
                },
                {
                    label: '2024',
                    data: [30, 35, 50, 42, 60],
                    backgroundColor: 'rgba(153, 102, 255, 0.6)',
                    borderColor: 'rgba(153, 102, 255, 1)',
                    borderWidth: 1,
                    fill: false
                }
            ]
        };

        const dataChart5 = {
            labels: ['Domésticos', 'Comerciales', 'Industriales', 'Servicios'],
            datasets: [{
                label: '# de Accidentes',
                data: [700, 150, 50, 100],
                backgroundColor: [
                    'rgba(255, 99, 132, 0.6)',
                    'rgba(54, 162, 235, 0.6)',
                    'rgba(255, 206, 86, 0.6)',
                    'rgba(75, 192, 192, 0.6)'
                ],
                borderColor: [
                    'rgba(255, 99, 132, 1)',
                    'rgba(54, 162, 235, 1)',
                    'rgba(255, 206, 86, 1)',
                    'rgba(75, 192, 192, 1)'
                ],
                borderWidth: 1
            }]
        };


        // Función para crear un gráfico de barras con estilo 3D
        function createBarChart3D(ctx, data, title) {
            new Chart(ctx, {
                type: 'bar',
                data: {
                    labels: data.labels,
                    datasets: data.datasets.map(dataset => ({
                        ...dataset,
                        backgroundColor: dataset.backgroundColor.map(color => color.replace('0.8)', '1)')), // Make bars opaque
                        borderColor: dataset.borderColor.map(color => color.replace('1)', '0.8)')), // Lighter border
                        borderWidth: 2,
                        borderRadius: 5, // Rounded corners for a softer look
                    }))
                },
                options: {
                    responsive: true,
                    plugins: {
                        title: {
                            display: true,
                            text: title,
                            color: '#fff',
                            font: {
                                size: 18,
                                weight: 'bold'
                            }
                        },
                        legend: {
                            labels: {
                                color: '#AFB3B7'
                            }
                        },
                        tooltip: {
                            backgroundColor: 'rgba(0, 0, 0, 0.7)',
                            bodyColor: '#fff',
                            titleColor: '#fff'
                        }
                    },
                    scales: {
                        x: {
                            grid: {
                                display: false
                            },
                            ticks: {
                                color: '#AFB3B7'
                            }
                        },
                        y: {
                            beginAtZero: true,
                            grid: {
                                color: 'rgba(255, 255, 255, 0.1)'
                            },
                            ticks: {
                                color: '#AFB3B7'
                            }
                        }
                    },
                    layout: {
                        padding: {
                            top: 10,
                            bottom: 10,
                            left: 10,
                            right: 10
                        }
                    }
                }
            });
        }

        // Función para crear un gráfico de pastel/doughnut con estilo 3D
        function createPieDoughnutChart3D(ctx, data, title, type = 'pie') {
            new Chart(ctx, {
                type: type,
                data: {
                    labels: data.labels,
                    datasets: data.datasets.map(dataset => ({
                        ...dataset,
                        backgroundColor: dataset.backgroundColor.map(color => color.replace('0.6)', '0.9)')), // Make slices more opaque
                        borderColor: dataset.borderColor.map(color => color.replace('1)', '0.7)')), // Lighter border
                        borderWidth: 2,
                        hoverOffset: 10, // Slight offset on hover
                    }))
                },
                options: {
                    responsive: true,
                    plugins: {
                        title: {
                            display: true,
                            text: title,
                            color: '#fff',
                            font: {
                                size: 18,
                                weight: 'bold'
                            }
                        },
                        legend: {
                            labels: {
                                color: '#AFB3B7'
                            }
                        },
                        tooltip: {
                            backgroundColor: 'rgba(0, 0, 0, 0.7)',
                            bodyColor: '#fff',
                            titleColor: '#fff',
                             callbacks: {
                                label: function(context) {
                                    let label = context.label || '';
                                    if (label) {
                                        label += ': ';
                                    }
                                    if (context.parsed !== null) {
                                        label += context.parsed;
                                    }
                                    return label;
                                }
                            }
                        }
                    },
                    layout: {
                        padding: {
                            top: 10,
                            bottom: 10,
                            left: 10,
                            right: 10
                        }
                    }
                }
            });
        }

        // Función para crear un gráfico de líneas
        function createLineChart(ctx, data, title) {
            new Chart(ctx, {
                type: 'line',
                data: data,
                options: {
                    responsive: true,
                    plugins: {
                        title: {
                            display: true,
                            text: title,
                            color: '#fff',
                            font: {
                                size: 18,
                                weight: 'bold'
                            }
                        },
                        legend: {
                            labels: {
                                color: '#AFB3B7'
                            }
                        },
                        tooltip: {
                            backgroundColor: 'rgba(0, 0, 0, 0.7)',
                            bodyColor: '#fff',
                            titleColor: '#fff'
                        }
                    },
                    scales: {
                        x: {
                            grid: {
                                display: false
                            },
                            ticks: {
                                color: '#AFB3B7'
                            }
                        },
                        y: {
                            beginAtZero: true,
                            grid: {
                                color: 'rgba(255, 255, 255, 0.1)'
                            },
                            ticks: {
                                color: '#AFB3B7'
                            }
                        }
                    }
                }
            });
        }


        // Renderizar los gráficos
        const ctx1 = document.getElementById('chart1').getContext('2d');
        createPieDoughnutChart3D(ctx1, dataChart1, 'Incidentes en Propiedades Privadas en Argentina (2022-2023)', 'doughnut');

        const ctx2 = document.getElementById('chart2').getContext('2d');
        createBarChart3D(ctx2, dataChart2, 'Conexiones Clandestinas de Gas en AMBA (2019-2023)');

        const ctx3 = document.getElementById('chart3').getContext('2d');
        createBarChart3D(ctx3, dataChart3, 'Factores Contribuyentes a Incidentes de CO (2023)');

        const ctx4 = document.getElementById('chart4').getContext('2d');
        createLineChart(ctx4, dataChart4, 'Casos de Intoxicación por CO en Argentina (Enero-Mayo 2023 vs 2024)');

        const ctx5 = document.getElementById('chart5').getContext('2d');
        createPieDoughnutChart3D(ctx5, dataChart5, 'Accidentes por Gas (2023)', 'pie');
    });

    function mostrarOpiniones() {
        document.getElementById('opiniones-usuarios-imagenes').style.display = 'block';
    }

    function ocultarOpiniones() {
        document.getElementById('opiniones-usuarios-imagenes').style.display = 'none';
    }
</script>
<script async src="https://cdnjs.cloudflare.com/ajax/libs/three.js/0.150.1/three.min.js"></script>
<script type="module">
    import { GLTFLoader } from 'https://unpkg.com/three@0.150.1/examples/jsm/loaders/GLTFLoader.js';

    document.addEventListener('DOMContentLoaded', function() {
        const container = document.getElementById('model-container');
        if (!container) {
            console.error('El contenedor del modelo 3D no se encontró.');
            return;
        }

        const scene = new THREE.Scene();
        scene.background = null; // Fondo transparente

        const camera = new THREE.PerspectiveCamera(75, container.clientWidth / container.clientHeight, 0.1, 1000);
        camera.position.set(0, 0, 5); // Ajusta la posición de la cámara si es necesario

        const renderer = new THREE.WebGLRenderer({ antialias: true, alpha: true }); // alpha: true para fondo transparente
        renderer.setSize(container.clientWidth, container.clientHeight);
        renderer.setClearColor(0x000000, 0); // Fondo transparente
        container.appendChild(renderer.domElement);

        // Iluminación
        const ambientLight = new THREE.AmbientLight(0xffffff, 0.7); // Luz ambiental suave
        scene.add(ambientLight);

        const directionalLight = new THREE.DirectionalLight(0xffffff, 0.5); // Luz direccional
        directionalLight.position.set(0, 5, 5);
        scene.add(directionalLight);

        // Cargar modelo GLTF
        const loader = new GLTFLoader();
        let gasDetector;

        // **IMPORTANTE: Asegúrate de que 'steam_condensate_trap__trampa_de_condensado.glb' esté en la misma carpeta que tu index.html**
        loader.load('steam_condensate_trap__trampa_de_condensado.glb', function (gltf) {
            gasDetector = gltf.scene;
            scene.add(gasDetector);

            // Ajustar posición y escala del modelo si es necesario
            gasDetector.scale.set(1.5, 1.5, 1.5);
            gasDetector.position.set(0, -1, 0);

        }, undefined, function (error) {
            console.error('Error al cargar el modelo GLTF:', error);
            // Mostrar imagen alternativa si falla la carga del modelo 3D
            const imgAlt = document.createElement('img');
            imgAlt.src = "https://cdn3d.iconscout.com/3d/premium/thumb/gas-leak-detector-9578613-7751998.png?f=webp"; // Una imagen más apropiada para un detector de gas
            imgAlt.alt = "Ilustración de detector de fuga de gas";
            imgAlt.classList.add("fallback-image"); // Clase para aplicar estilos
            container.innerHTML = ''; // Limpiar el contenedor del canvas
            container.appendChild(imgAlt);
        });

        // Animación de flotación
        function animate() {
            requestAnimationFrame(animate);

            if (gasDetector) {
                // Animación de rotación para un efecto 3D simple
                gasDetector.rotation.y += 0.005;
            }

            renderer.render(scene, camera);
        }
        animate();

        // Manejar el redimensionamiento de la ventana
        window.addEventListener('resize', () => {
            camera.aspect = container.clientWidth / container.clientHeight;
            camera.updateProjectionMatrix();
            renderer.setSize(container.clientWidth, container.clientHeight);
        });
    });
</script>
</body>
</html>